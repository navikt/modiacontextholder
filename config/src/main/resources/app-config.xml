<?xml version="1.0" encoding="UTF-8"?>
<application xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://appconfig.aura.nav.no"
             xsi:schemaLocation="http://appconfig.aura.nav.no http://maven.adeo.no/xsd/appconfig.xsd">

    <name>modiacontextholder</name>

    <selftest>
        <path>modiacontextholder/internal/selftest</path>
        <humanReadablePath>modiacontextholder/internal/selftest</humanReadablePath>
    </selftest>

    <artifacts>
        <ear groupId="no.nav.sbl" artifactId="modiacontextholder-ear"/>
    </artifacts>

    <resources>
        <rest alias="oidc-login-api" mapToProperty="oidc-redirect"/>
        <datasource alias="modiacontextholderDB" xaEnabled="true" jndi="java:jboss/jdbc/modiacontextholderDS">
            <pool maxPoolSize="300" minPoolSize="0"/>
        </datasource>

        <baseUrl alias="isso-host"/>
        <baseUrl alias="isso-jwks"/>
        <baseUrl alias="isso-issuer"/>
        <credential alias="OpenIdConnectAgent"/>
    </resources>

    <security serviceUserResourceAlias="srvmodiacontextholder" />

    <exposed-services>
        <exposedRest path="/modiacontextholder/api/veiledercontext" name="veiledercontext-api" description="API for konteksten til en veileder"/>
        <exposedRest path="/modiacontextholder/api/events" name="events-api"
                     description="Tjeneste for å hente eventer. Legg på url-parameter etterEventId for å henter kun eventer etter en gitt id."/>
    </exposed-services>


    <loadBalancer isAlive="modiacontextholder/internal/isAlive"/>
</application>